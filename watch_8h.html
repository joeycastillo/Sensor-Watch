<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensor Watch: watch-library/shared/watch/watch.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sensor Watch<span id="projectnumber">&#160;0.0.2</span>
   </div>
   <div id="projectbrief">A board replacement for the classic Casio F-91W wristwatch, powered by a Microchip SAM L22 microcontroller.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f1a087a6659d970f5756e21fc1ac4961.html">watch-library</a></li><li class="navelem"><a class="el" href="dir_3351a3556ab4b770be21f3a77a6d7b80.html">shared</a></li><li class="navelem"><a class="el" href="dir_280ec1f3fe74f12cdd5c78898ed1ca3c.html">watch</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">watch.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;driver_init.h&quot;</code><br />
<code>#include &quot;pins.h&quot;</code><br />
<code>#include &quot;watch_app.h&quot;</code><br />
<code>#include &quot;watch_rtc.h&quot;</code><br />
<code>#include &quot;watch_slcd.h&quot;</code><br />
<code>#include &quot;watch_extint.h&quot;</code><br />
<code>#include &quot;watch_led.h&quot;</code><br />
<code>#include &quot;watch_buzzer.h&quot;</code><br />
<code>#include &quot;watch_adc.h&quot;</code><br />
<code>#include &quot;watch_gpio.h&quot;</code><br />
<code>#include &quot;watch_i2c.h&quot;</code><br />
<code>#include &quot;watch_spi.h&quot;</code><br />
<code>#include &quot;watch_uart.h&quot;</code><br />
<code>#include &quot;watch_storage.h&quot;</code><br />
<code>#include &quot;watch_deepsleep.h&quot;</code><br />
<code>#include &quot;watch_private.h&quot;</code><br />
</div>
<p><a href="watch_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4f6f5eebe5c0ed0dfd19b15d6c26f2d1" id="r_a4f6f5eebe5c0ed0dfd19b15d6c26f2d1"><td class="memItemLeft" align="right" valign="top"><a id="a4f6f5eebe5c0ed0dfd19b15d6c26f2d1" name="a4f6f5eebe5c0ed0dfd19b15d6c26f2d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWCLK</b>&#160;&#160;&#160;GPIO(GPIO_PORTA, 30)</td></tr>
<tr class="separator:a4f6f5eebe5c0ed0dfd19b15d6c26f2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e6490ba8c82ac7f0be86128d0aa67a" id="r_ae3e6490ba8c82ac7f0be86128d0aa67a"><td class="memItemLeft" align="right" valign="top"><a id="ae3e6490ba8c82ac7f0be86128d0aa67a" name="ae3e6490ba8c82ac7f0be86128d0aa67a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SWDIO</b>&#160;&#160;&#160;GPIO(GPIO_PORTA, 31)</td></tr>
<tr class="separator:ae3e6490ba8c82ac7f0be86128d0aa67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6df21baf06b4a5392d95dd3cdde75d94" id="r_a6df21baf06b4a5392d95dd3cdde75d94"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6df21baf06b4a5392d95dd3cdde75d94">watch_is_buzzer_or_led_enabled</a> (void)</td></tr>
<tr class="memdesc:a6df21baf06b4a5392d95dd3cdde75d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if either the buzzer or the LED driver is enabled.  <br /></td></tr>
<tr class="separator:a6df21baf06b4a5392d95dd3cdde75d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1324426e2c366033abbb1b2e78b61305" id="r_a1324426e2c366033abbb1b2e78b61305"><td class="memItemLeft" align="right" valign="top"><a id="a1324426e2c366033abbb1b2e78b61305" name="a1324426e2c366033abbb1b2e78b61305"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>watch_is_usb_enabled</b> (void)</td></tr>
<tr class="memdesc:a1324426e2c366033abbb1b2e78b61305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if USB is enabled. <br /></td></tr>
<tr class="separator:a1324426e2c366033abbb1b2e78b61305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b79c545e0876aefdbd405d469ce27f4" id="r_a4b79c545e0876aefdbd405d469ce27f4"><td class="memItemLeft" align="right" valign="top"><a id="a4b79c545e0876aefdbd405d469ce27f4" name="a4b79c545e0876aefdbd405d469ce27f4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>watch_reset_to_bootloader</b> (void)</td></tr>
<tr class="memdesc:a4b79c545e0876aefdbd405d469ce27f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets in the UF2 bootloader mode. <br /></td></tr>
<tr class="separator:a4b79c545e0876aefdbd405d469ce27f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15fb1a0b0834fa71d213d4228d94a849" id="r_a15fb1a0b0834fa71d213d4228d94a849"><td class="memItemLeft" align="right" valign="top"><a id="a15fb1a0b0834fa71d213d4228d94a849" name="a15fb1a0b0834fa71d213d4228d94a849"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cdc_task</b> (void)</td></tr>
<tr class="memdesc:a15fb1a0b0834fa71d213d4228d94a849"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call periodically from app main loop to service CDC RX/TX. <br /></td></tr>
<tr class="separator:a15fb1a0b0834fa71d213d4228d94a849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c5d610f8b61891a7cf5fca2671b6f9" id="r_aa0c5d610f8b61891a7cf5fca2671b6f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0c5d610f8b61891a7cf5fca2671b6f9">read</a> (int file, char *ptr, int len)</td></tr>
<tr class="memdesc:aa0c5d610f8b61891a7cf5fca2671b6f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads up to len bytes from the USB serial.  <br /></td></tr>
<tr class="separator:aa0c5d610f8b61891a7cf5fca2671b6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0563dd257b275d2ebb89a54f578b1ac1" id="r_a0563dd257b275d2ebb89a54f578b1ac1"><td class="memItemLeft" align="right" valign="top"><a id="a0563dd257b275d2ebb89a54f578b1ac1" name="a0563dd257b275d2ebb89a54f578b1ac1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>watch_disable_TRNG</b> ()</td></tr>
<tr class="memdesc:a0563dd257b275d2ebb89a54f578b1ac1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the TRNG twice in order to work around silicon erratum 1.16.1. <br /></td></tr>
<tr class="separator:a0563dd257b275d2ebb89a54f578b1ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa0c5d610f8b61891a7cf5fca2671b6f9" name="aa0c5d610f8b61891a7cf5fca2671b6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c5d610f8b61891a7cf5fca2671b6f9">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads up to len bytes from the USB serial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>ignored, you can pass in 0 </td></tr>
    <tr><td class="paramname">ptr</td><td>pointer to a buffer of at least len bytes </td></tr>
    <tr><td class="paramname">len</td><td>the number of bytes you wish to read, max 256. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes read, or zero if no bytes were read. </dd></dl>

</div>
</div>
<a id="a6df21baf06b4a5392d95dd3cdde75d94" name="a6df21baf06b4a5392d95dd3cdde75d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df21baf06b4a5392d95dd3cdde75d94">&#9670;&#160;</a></span>watch_is_buzzer_or_led_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool watch_is_buzzer_or_led_enabled </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if either the buzzer or the LED driver is enabled. </p>
<p>Both the buzzer and the LED use the TCC peripheral to drive their behavior. This function returns true if that peripheral is enabled. You can use this function to determine whether you need to call the watch_disable_leds or or watch_enable_buzzer functions before using these peripherals. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
